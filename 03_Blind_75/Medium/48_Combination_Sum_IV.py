"""
LeetCode 377. Combination Sum IV
Difficulty: Medium
Category: Dynamic Programming

Given an array of distinct integers nums and a target integer target, return the number of 
possible combinations that add up to target.
The test cases are generated so that the answer can fit in a 32-bit integer.

Time Complexity: O(target * nums)
Space Complexity: O(target)
"""

def combinationSum4(nums, target):
    """
    Count number of combinations that sum to target.
    
    Args:
        nums: Array of distinct integers
        target: Target sum
        
    Returns:
        Number of combinations that sum to target
    """
    # TODO: Implement your solution here
    pass


# Test cases
def test_combination_sum_iv():
    """Test cases for Combination Sum IV"""
    test_cases = [
        # Basic test cases
        ([1, 2, 3], 4, 7),
        ([9], 3, 0),
        ([1, 2, 3], 32, 181997601),
        
        # Edge cases
        ([], 0, 1),
        ([], 1, 0),
        ([1], 0, 1),
        ([1], 1, 1),
        ([1], 2, 1),
        ([1], 3, 1),
        ([1], 4, 1),
        ([1], 5, 1),
        ([2], 1, 0),
        ([2], 2, 1),
        ([2], 3, 0),
        ([2], 4, 1),
        ([2], 5, 0),
        ([2], 6, 1),
        ([2], 7, 0),
        ([2], 8, 1),
        ([2], 9, 0),
        ([2], 10, 1),
        
        # LeetCode test cases
        ([1, 2, 3], 4, 7),
        ([9], 3, 0),
        ([1, 2, 3], 32, 181997601),
        
        # Additional test cases
        ([1, 2], 1, 1),
        ([1, 2], 2, 2),
        ([1, 2], 3, 3),
        ([1, 2], 4, 5),
        ([1, 2], 5, 8),
        ([1, 2], 6, 13),
        ([1, 2], 7, 21),
        ([1, 2], 8, 34),
        ([1, 2], 9, 55),
        ([1, 2], 10, 89),
        
        # Three numbers
        ([1, 2, 3], 1, 1),
        ([1, 2, 3], 2, 2),
        ([1, 2, 3], 3, 4),
        ([1, 2, 3], 4, 7),
        ([1, 2, 3], 5, 13),
        ([1, 2, 3], 6, 24),
        ([1, 2, 3], 7, 44),
        ([1, 2, 3], 8, 81),
        ([1, 2, 3], 9, 149),
        ([1, 2, 3], 10, 274),
        
        # Four numbers
        ([1, 2, 3, 4], 1, 1),
        ([1, 2, 3, 4], 2, 2),
        ([1, 2, 3, 4], 3, 4),
        ([1, 2, 3, 4], 4, 8),
        ([1, 2, 3, 4], 5, 15),
        ([1, 2, 3, 4], 6, 29),
        ([1, 2, 3, 4], 7, 56),
        ([1, 2, 3, 4], 8, 108),
        ([1, 2, 3, 4], 9, 208),
        ([1, 2, 3, 4], 10, 401),
        
        # Five numbers
        ([1, 2, 3, 4, 5], 1, 1),
        ([1, 2, 3, 4, 5], 2, 2),
        ([1, 2, 3, 4, 5], 3, 4),
        ([1, 2, 3, 4, 5], 4, 8),
        ([1, 2, 3, 4, 5], 5, 16),
        ([1, 2, 3, 4, 5], 6, 31),
        ([1, 2, 3, 4, 5], 7, 61),
        ([1, 2, 3, 4, 5], 8, 120),
        ([1, 2, 3, 4, 5], 9, 236),
        ([1, 2, 3, 4, 5], 10, 464),
        
        # Six numbers
        ([1, 2, 3, 4, 5, 6], 1, 1),
        ([1, 2, 3, 4, 5, 6], 2, 2),
        ([1, 2, 3, 4, 5, 6], 3, 4),
        ([1, 2, 3, 4, 5, 6], 4, 8),
        ([1, 2, 3, 4, 5, 6], 5, 16),
        ([1, 2, 3, 4, 5, 6], 6, 32),
        ([1, 2, 3, 4, 5, 6], 7, 63),
        ([1, 2, 3, 4, 5, 6], 8, 125),
        ([1, 2, 3, 4, 5, 6], 9, 248),
        ([1, 2, 3, 4, 5, 6], 10, 492),
        
        # Seven numbers
        ([1, 2, 3, 4, 5, 6, 7], 1, 1),
        ([1, 2, 3, 4, 5, 6, 7], 2, 2),
        ([1, 2, 3, 4, 5, 6, 7], 3, 4),
        ([1, 2, 3, 4, 5, 6, 7], 4, 8),
        ([1, 2, 3, 4, 5, 6, 7], 5, 16),
        ([1, 2, 3, 4, 5, 6, 7], 6, 32),
        ([1, 2, 3, 4, 5, 6, 7], 7, 64),
        ([1, 2, 3, 4, 5, 6, 7], 8, 127),
        ([1, 2, 3, 4, 5, 6, 7], 9, 253),
        ([1, 2, 3, 4, 5, 6, 7], 10, 504),
        
        # Eight numbers
        ([1, 2, 3, 4, 5, 6, 7, 8], 1, 1),
        ([1, 2, 3, 4, 5, 6, 7, 8], 2, 2),
        ([1, 2, 3, 4, 5, 6, 7, 8], 3, 4),
        ([1, 2, 3, 4, 5, 6, 7, 8], 4, 8),
        ([1, 2, 3, 4, 5, 6, 7, 8], 5, 16),
        ([1, 2, 3, 4, 5, 6, 7, 8], 6, 32),
        ([1, 2, 3, 4, 5, 6, 7, 8], 7, 64),
        ([1, 2, 3, 4, 5, 6, 7, 8], 8, 128),
        ([1, 2, 3, 4, 5, 6, 7, 8], 9, 255),
        ([1, 2, 3, 4, 5, 6, 7, 8], 10, 509),
        
        # Nine numbers
        ([1, 2, 3, 4, 5, 6, 7, 8, 9], 1, 1),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9], 2, 2),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9], 3, 4),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9], 4, 8),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9], 5, 16),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9], 6, 32),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9], 7, 64),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9], 8, 128),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9], 9, 256),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9], 10, 511),
        
        # Ten numbers
        ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 1, 1),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 2, 2),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 3, 4),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 4, 8),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 5, 16),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 6, 32),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 7, 64),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 8, 128),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 9, 256),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 10, 512),
        
        # Large numbers
        ([100, 200, 300], 400, 0),
        ([100, 200, 300], 500, 0),
        ([100, 200, 300], 600, 0),
        ([100, 200, 300], 700, 0),
        ([100, 200, 300], 800, 0),
        ([100, 200, 300], 900, 0),
        ([100, 200, 300], 1000, 0),
        ([100, 200, 300], 1100, 0),
        ([100, 200, 300], 1200, 0),
        ([100, 200, 300], 1300, 0),
        ([100, 200, 300], 1400, 0),
        ([100, 200, 300], 1500, 0),
        ([100, 200, 300], 1600, 0),
        ([100, 200, 300], 1700, 0),
        ([100, 200, 300], 1800, 0),
        ([100, 200, 300], 1900, 0),
        ([100, 200, 300], 2000, 0),
        ([100, 200, 300], 2100, 0),
        ([100, 200, 300], 2200, 0),
        ([100, 200, 300], 2300, 0),
        ([100, 200, 300], 2400, 0),
        ([100, 200, 300], 2500, 0),
        ([100, 200, 300], 2600, 0),
        ([100, 200, 300], 2700, 0),
        ([100, 200, 300], 2800, 0),
        ([100, 200, 300], 2900, 0),
        ([100, 200, 300], 3000, 0),
        ([100, 200, 300], 3100, 0),
        ([100, 200, 300], 3200, 0),
        ([100, 200, 300], 3300, 0),
        ([100, 200, 300], 3400, 0),
        ([100, 200, 300], 3500, 0),
        ([100, 200, 300], 3600, 0),
        ([100, 200, 300], 3700, 0),
        ([100, 200, 300], 3800, 0),
        ([100, 200, 300], 3900, 0),
        ([100, 200, 300], 4000, 0),
        ([100, 200, 300], 4100, 0),
        ([100, 200, 300], 4200, 0),
        ([100, 200, 300], 4300, 0),
        ([100, 200, 300], 4400, 0),
        ([100, 200, 300], 4500, 0),
        ([100, 200, 300], 4600, 0),
        ([100, 200, 300], 4700, 0),
        ([100, 200, 300], 4800, 0),
        ([100, 200, 300], 4900, 0),
        ([100, 200, 300], 5000, 0),
        
        # Very large numbers
        ([1000000000, 2000000000, 3000000000], 4000000000, 0),
        ([1000000000, 2000000000, 3000000000], 5000000000, 0),
        ([1000000000, 2000000000, 3000000000], 6000000000, 0),
        ([1000000000, 2000000000, 3000000000], 7000000000, 0),
        ([1000000000, 2000000000, 3000000000], 8000000000, 0),
        ([1000000000, 2000000000, 3000000000], 9000000000, 0),
        ([1000000000, 2000000000, 3000000000], 10000000000, 0),
        ([1000000000, 2000000000, 3000000000], 11000000000, 0),
        ([1000000000, 2000000000, 3000000000], 12000000000, 0),
        ([1000000000, 2000000000, 3000000000], 13000000000, 0),
        ([1000000000, 2000000000, 3000000000], 14000000000, 0),
        ([1000000000, 2000000000, 3000000000], 15000000000, 0),
        ([1000000000, 2000000000, 3000000000], 16000000000, 0),
        ([1000000000, 2000000000, 3000000000], 17000000000, 0),
        ([1000000000, 2000000000, 3000000000], 18000000000, 0),
        ([1000000000, 2000000000, 3000000000], 19000000000, 0),
        ([1000000000, 2000000000, 3000000000], 20000000000, 0),
        ([1000000000, 2000000000, 3000000000], 21000000000, 0),
        ([1000000000, 2000000000, 3000000000], 22000000000, 0),
        ([1000000000, 2000000000, 3000000000], 23000000000, 0),
        ([1000000000, 2000000000, 3000000000], 24000000000, 0),
        ([1000000000, 2000000000, 3000000000], 25000000000, 0),
        ([1000000000, 2000000000, 3000000000], 26000000000, 0),
        ([1000000000, 2000000000, 3000000000], 27000000000, 0),
        ([1000000000, 2000000000, 3000000000], 28000000000, 0),
        ([1000000000, 2000000000, 3000000000], 29000000000, 0),
        ([1000000000, 2000000000, 3000000000], 30000000000, 0),
        ([1000000000, 2000000000, 3000000000], 31000000000, 0),
        ([1000000000, 2000000000, 3000000000], 32000000000, 0),
        ([1000000000, 2000000000, 3000000000], 33000000000, 0),
        ([1000000000, 2000000000, 3000000000], 34000000000, 0),
        ([1000000000, 2000000000, 3000000000], 35000000000, 0),
        ([1000000000, 2000000000, 3000000000], 36000000000, 0),
        ([1000000000, 2000000000, 3000000000], 37000000000, 0),
        ([1000000000, 2000000000, 3000000000], 38000000000, 0),
        ([1000000000, 2000000000, 3000000000], 39000000000, 0),
        ([1000000000, 2000000000, 3000000000], 40000000000, 0),
        ([1000000000, 2000000000, 3000000000], 41000000000, 0),
        ([1000000000, 2000000000, 3000000000], 42000000000, 0),
        ([1000000000, 2000000000, 3000000000], 43000000000, 0),
        ([1000000000, 2000000000, 3000000000], 44000000000, 0),
        ([1000000000, 2000000000, 3000000000], 45000000000, 0),
        ([1000000000, 2000000000, 3000000000], 46000000000, 0),
        ([1000000000, 2000000000, 3000000000], 47000000000, 0),
        ([1000000000, 2000000000, 3000000000], 48000000000, 0),
        ([1000000000, 2000000000, 3000000000], 49000000000, 0),
        ([1000000000, 2000000000, 3000000000], 50000000000, 0),
        
        # Edge cases with empty array
        ([], 0, 1),
        ([], 1, 0),
        ([], 2, 0),
        ([], 3, 0),
        ([], 4, 0),
        ([], 5, 0),
        ([], 6, 0),
        ([], 7, 0),
        ([], 8, 0),
        ([], 9, 0),
        ([], 10, 0),
        
        # Edge cases with single number
        ([1], 0, 1),
        ([1], 1, 1),
        ([1], 2, 1),
        ([1], 3, 1),
        ([1], 4, 1),
        ([1], 5, 1),
        ([1], 6, 1),
        ([1], 7, 1),
        ([1], 8, 1),
        ([1], 9, 1),
        ([1], 10, 1),
        
        # Edge cases with two numbers
        ([1, 2], 0, 1),
        ([1, 2], 1, 1),
        ([1, 2], 2, 2),
        ([1, 2], 3, 3),
        ([1, 2], 4, 5),
        ([1, 2], 5, 8),
        ([1, 2], 6, 13),
        ([1, 2], 7, 21),
        ([1, 2], 8, 34),
        ([1, 2], 9, 55),
        ([1, 2], 10, 89),
        
        # Edge cases with three numbers
        ([1, 2, 3], 0, 1),
        ([1, 2, 3], 1, 1),
        ([1, 2, 3], 2, 2),
        ([1, 2, 3], 3, 4),
        ([1, 2, 3], 4, 7),
        ([1, 2, 3], 5, 13),
        ([1, 2, 3], 6, 24),
        ([1, 2, 3], 7, 44),
        ([1, 2, 3], 8, 81),
        ([1, 2, 3], 9, 149),
        ([1, 2, 3], 10, 274),
        
        # Edge cases with four numbers
        ([1, 2, 3, 4], 0, 1),
        ([1, 2, 3, 4], 1, 1),
        ([1, 2, 3, 4], 2, 2),
        ([1, 2, 3, 4], 3, 4),
        ([1, 2, 3, 4], 4, 8),
        ([1, 2, 3, 4], 5, 15),
        ([1, 2, 3, 4], 6, 29),
        ([1, 2, 3, 4], 7, 56),
        ([1, 2, 3, 4], 8, 108),
        ([1, 2, 3, 4], 9, 208),
        ([1, 2, 3, 4], 10, 401),
        
        # Edge cases with five numbers
        ([1, 2, 3, 4, 5], 0, 1),
        ([1, 2, 3, 4, 5], 1, 1),
        ([1, 2, 3, 4, 5], 2, 2),
        ([1, 2, 3, 4, 5], 3, 4),
        ([1, 2, 3, 4, 5], 4, 8),
        ([1, 2, 3, 4, 5], 5, 16),
        ([1, 2, 3, 4, 5], 6, 31),
        ([1, 2, 3, 4, 5], 7, 61),
        ([1, 2, 3, 4, 5], 8, 120),
        ([1, 2, 3, 4, 5], 9, 236),
        ([1, 2, 3, 4, 5], 10, 464),
        
        # Edge cases with six numbers
        ([1, 2, 3, 4, 5, 6], 0, 1),
        ([1, 2, 3, 4, 5, 6], 1, 1),
        ([1, 2, 3, 4, 5, 6], 2, 2),
        ([1, 2, 3, 4, 5, 6], 3, 4),
        ([1, 2, 3, 4, 5, 6], 4, 8),
        ([1, 2, 3, 4, 5, 6], 5, 16),
        ([1, 2, 3, 4, 5, 6], 6, 32),
        ([1, 2, 3, 4, 5, 6], 7, 63),
        ([1, 2, 3, 4, 5, 6], 8, 125),
        ([1, 2, 3, 4, 5, 6], 9, 248),
        ([1, 2, 3, 4, 5, 6], 10, 492),
        
        # Edge cases with seven numbers
        ([1, 2, 3, 4, 5, 6, 7], 0, 1),
        ([1, 2, 3, 4, 5, 6, 7], 1, 1),
        ([1, 2, 3, 4, 5, 6, 7], 2, 2),
        ([1, 2, 3, 4, 5, 6, 7], 3, 4),
        ([1, 2, 3, 4, 5, 6, 7], 4, 8),
        ([1, 2, 3, 4, 5, 6, 7], 5, 16),
        ([1, 2, 3, 4, 5, 6, 7], 6, 32),
        ([1, 2, 3, 4, 5, 6, 7], 7, 64),
        ([1, 2, 3, 4, 5, 6, 7], 8, 127),
        ([1, 2, 3, 4, 5, 6, 7], 9, 253),
        ([1, 2, 3, 4, 5, 6, 7], 10, 504),
        
        # Edge cases with eight numbers
        ([1, 2, 3, 4, 5, 6, 7, 8], 0, 1),
        ([1, 2, 3, 4, 5, 6, 7, 8], 1, 1),
        ([1, 2, 3, 4, 5, 6, 7, 8], 2, 2),
        ([1, 2, 3, 4, 5, 6, 7, 8], 3, 4),
        ([1, 2, 3, 4, 5, 6, 7, 8], 4, 8),
        ([1, 2, 3, 4, 5, 6, 7, 8], 5, 16),
        ([1, 2, 3, 4, 5, 6, 7, 8], 6, 32),
        ([1, 2, 3, 4, 5, 6, 7, 8], 7, 64),
        ([1, 2, 3, 4, 5, 6, 7, 8], 8, 128),
        ([1, 2, 3, 4, 5, 6, 7, 8], 9, 255),
        ([1, 2, 3, 4, 5, 6, 7, 8], 10, 509),
        
        # Edge cases with nine numbers
        ([1, 2, 3, 4, 5, 6, 7, 8, 9], 0, 1),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9], 1, 1),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9], 2, 2),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9], 3, 4),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9], 4, 8),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9], 5, 16),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9], 6, 32),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9], 7, 64),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9], 8, 128),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9], 9, 256),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9], 10, 511),
        
        # Edge cases with ten numbers
        ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 0, 1),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 1, 1),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 2, 2),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 3, 4),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 4, 8),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 5, 16),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 6, 32),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 7, 64),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 8, 128),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 9, 256),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 10, 512),
    ]
    
    print("Testing Combination Sum IV solution...")
    for i, (nums, target, expected) in enumerate(test_cases):
        result = combinationSum4(nums, target)
        if result == expected:
            print(f"✓ Test {i+1} passed: nums={nums}, target={target}, result={result}")
        else:
            print(f"✗ Test {i+1} failed: nums={nums}, target={target}")
            print(f"  Expected: {expected}, Got: {result}")
    
    print("\nAll tests completed!")


# Performance test
def test_performance():
    """Test solution performance with large input"""
    import time
    
    # Generate large array and target
    large_nums = list(range(1, 101))  # [1, 2, 3, ..., 100]
    large_target = 1000
    
    start_time = time.time()
    result = combinationSum4(large_nums, large_target)
    end_time = time.time()
    
    print(f"\nPerformance Test:")
    print(f"Large array (100 elements) with target={large_target}: {end_time - start_time:.4f} seconds")
    print(f"Result: {result}")


if __name__ == "__main__":
    test_combination_sum_iv()
    test_performance()
